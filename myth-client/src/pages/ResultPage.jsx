import React, { useState, useEffect } from 'react';
import { useLocation, useNavigate } from 'react-router-dom';

const ResultPage = () => {
    const navigate = useNavigate();
    const location = useLocation();

    // í† ê¸€ ìƒíƒœ ê´€ë¦¬
    const [showShare, setShowShare] = useState(false); // ê³µìœ  ë²„íŠ¼ë“¤

    const scores = location.state?.scores || { E:0, I:0, N:0, S:0, T:0, F:0, J:0, P:0 };

    // ì¹´ì¹´ì˜¤ SDK ì´ˆê¸°í™” (í™”ë©´ ì¼œì§ˆ ë•Œ í•œ ë²ˆ ì‹¤í–‰)
    useEffect(() => {
        // âš ï¸ ì¤‘ìš”: ì—¬ê¸°ì— ë‚˜ì¤‘ì— ë°œê¸‰ë°›ì€ 'JavaScript í‚¤'ë¥¼ ë„£ì–´ì•¼ í•©ë‹ˆë‹¤!
        // ì˜ˆ: window.Kakao.init('a1b2c3d4e5...');
        if (window.Kakao && !window.Kakao.isInitialized()) {
            window.Kakao.init('177b68d07c73306a5a450b36b9b348e3');
        }
    }, []);

    const getMBTI = (scores) => {
        let mbti = "";
        mbti += scores.E >= scores.I ? "E" : "I";
        mbti += scores.N >= scores.S ? "N" : "S";
        mbti += scores.F >= scores.T ? "F" : "T";
        mbti += scores.P >= scores.J ? "P" : "J";
        return mbti;
    };

    const myType = getMBTI(scores);

    const resultData = {
        "ISFJ": {
            name: "í—¤ìŠ¤í‹°ì•„ (Hestia)",
            desc: "ë”°ëœ»í•œ ë¶ˆê½ƒìœ¼ë¡œ ê°€ì •ì„ ì§€í‚¤ëŠ” ìˆ˜í˜¸ì‹ ",
            story: "í—¤ìŠ¤í‹°ì•„ëŠ” ì˜¬ë¦¼í¬ìŠ¤ 12ì‹  ì¤‘ ê°€ì¥ ì˜¨í™”í•œ ì„±ê²©ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤. ê·¸ë…€ëŠ” ë””ì˜¤ë‹ˆì†ŒìŠ¤ê°€ ì˜¬ë¦¼í¬ìŠ¤ì— í•©ë¥˜í–ˆì„ ë•Œ, ë¶„ë€ì„ ë§‰ê¸° ìœ„í•´ ìŠ¤ìŠ¤ë¡œ 12ì‹ ì˜ ìë¦¬ë¥¼ ì–‘ë³´í•˜ê³  í™”ë¡œë¥¼ ì§€í‚¤ëŠ” ì—­í• ì„ ì„ íƒí–ˆìŠµë‹ˆë‹¤. ê·¸ë…€ì˜ ë”°ëœ»í•œ í¬ìƒ ë•ë¶„ì— ì‹ ë“¤ì˜ ì„¸ê³„ëŠ” í‰í™”ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤."
        },
        "ISTJ": {
            name: "ì—ìš°ë…¸ë¯¸ì•„ (Eunomia)",
            desc: "ì„¸ìƒì˜ ì§ˆì„œì™€ ë²•ì„ ìˆ˜í˜¸í•˜ëŠ” ì—¬ì‹ ",
            story: "ì—ìš°ë…¸ë¯¸ì•„ëŠ” ì œìš°ìŠ¤ì™€ í…Œë¯¸ìŠ¤ ì‚¬ì´ì—ì„œ íƒœì–´ë‚œ 'ê³„ì ˆì˜ ì—¬ì‹ ' ì¤‘ í•˜ë‚˜ë¡œ, 'ì§ˆì„œ'ë¥¼ ìƒì§•í•©ë‹ˆë‹¤. ê·¸ë…€ëŠ” ì¸ê°„ ì‚¬íšŒê°€ ë²•ê³¼ ê·œì¹™ ì•ˆì—ì„œ ì˜¬ë°”ë¥´ê²Œ ëŒì•„ê°€ë„ë¡ ë¬µë¬µíˆ ê°ì‹œí•˜ë©°, í˜¼ë€ìŠ¤ëŸ¬ìš´ ì„¸ìƒì— ê·œìœ¨ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤."
        },
        "ESFJ": {
            name: "ë°ë©”í…Œë¥´ (Demeter)",
            desc: "ëŒ€ì§€ì˜ í’ìš”ì™€ ì‚¬ë‘ì„ ë² í‘¸ëŠ” ì–´ë¨¸ë‹ˆ",
            story: "ë°ë©”í…Œë¥´ëŠ” ë”¸ í˜ë¥´ì„¸í¬ë„¤ê°€ ì§€í•˜ ì„¸ê³„ë¡œ ë‚©ì¹˜ë˜ì, ìŠ¬í””ì— ì ê²¨ ëŒ€ì§€ì˜ ëª¨ë“  ê³¡ì‹ì„ ì‹œë“¤ê²Œ í–ˆìŠµë‹ˆë‹¤. ê²°êµ­ ë”¸ì„ ë˜ì°¾ê¸° ìœ„í•´ ì œìš°ìŠ¤ì™€ ë‹´íŒì„ ì§€ì—ˆê³ , ë”¸ê³¼ í•¨ê»˜ ìˆëŠ” ë™ì•ˆì—ëŠ” ì„¸ìƒì— ë´„ê³¼ ì—¬ë¦„ì´, ë–¨ì–´ì ¸ ìˆëŠ” ë™ì•ˆì—ëŠ” ê²¨ìš¸ì´ ì˜¤ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤."
        },
        "ESTJ": {
            name: "í¬ì„¸ì´ëˆ (Poseidon)",
            desc: "ê±°ì¹œ íŒŒë„ë¥¼ ì§€ë°°í•˜ëŠ” ë°”ë‹¤ì˜ ì œì™•",
            story: "í¬ì„¸ì´ëˆì€ ì œë¹„ë½‘ê¸°ë¥¼ í†µí•´ ë°”ë‹¤ì˜ ì§€ë°°ìê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŠ” ìì‹ ì˜ ì˜í† ì¸ ë°”ë‹¤ì—ì„œëŠ” ì œìš°ìŠ¤ì¡°ì°¨ í•¨ë¶€ë¡œ í•  ìˆ˜ ì—†ì„ ë§Œí¼ ê°•ë ¥í•œ ê¶Œë ¥ì„ íœ˜ë‘ë¦…ë‹ˆë‹¤. ì•„í…Œë„¤ ë„ì‹œì˜ ìˆ˜í˜¸ì‹  ìë¦¬ë¥¼ ë‘ê³  ì•„í…Œë‚˜ì™€ ê²½ìŸí–ˆì„ ë§Œí¼ ì§€ë°°ìš•ê³¼ ìŠ¹ë¶€ìš•ì´ ê°•í•œ ì‹ ì…ë‹ˆë‹¤."
        },
        "ISTP": {
            name: "í—¤íŒŒì´ìŠ¤í† ìŠ¤ (Hephaestus)",
            desc: "ë¬µë¬µíˆ ê±¸ì‘ì„ ë§Œë“¤ì–´ë‚´ëŠ” ëŒ€ì¥ì¥ì´ ì‹ ",
            story: "ê·¸ëŠ” íƒœì–´ë‚  ë•Œë¶€í„° ì ˆë¦„ë°œì´ì˜€ê³  ëª»ìƒê²¼ë‹¤ê³  ë²„ë¦¼ë°›ì•˜ì§€ë§Œ, ìµœê³ ì˜ ì†ì¬ì£¼ë¥¼ ê°€ì¡ŒìŠµë‹ˆë‹¤. ê·¸ëŠ” ë³µìˆ˜ ëŒ€ì‹  ì‹¤ë ¥ìœ¼ë¡œ ìŠ¹ë¶€í•˜ì—¬ ì‹ ë“¤ì˜ ìœ„í•œ í™©ê¸ˆ ì˜ìì™€ ë²ˆê°œ, ë¬´ê¸°ë¥¼ ë§Œë“¤ì–´ì£¼ë©° ì˜¬ë¦¼í¬ìŠ¤ì—ì„œ ì—†ì–´ì„œëŠ” ì•ˆ ë  ìµœê³ ì˜ ê¸°ìˆ ìë¡œ ì¸ì •ë°›ì•˜ìŠµë‹ˆë‹¤."
        },
        "ISFP": {
            name: "ì•„ë¥´í…Œë¯¸ìŠ¤ (Artemis)",
            desc: "ìˆ²ì†ì„ ììœ ë¡­ê²Œ ëˆ„ë¹„ëŠ” ë‹¬ì˜ ì—¬ì‹ ",
            story: "ì•„ë¥´í…Œë¯¸ìŠ¤ëŠ” ì œìš°ìŠ¤ì—ê²Œ 'í‰ìƒ ê²°í˜¼í•˜ì§€ ì•Šê³  ìˆ²ì†ì—ì„œ ììœ ë¡­ê²Œ ì‚¬ëƒ¥í•˜ë©° ì‚´ê²Œ í•´ë‹¬ë¼'ê³  ë¶€íƒí–ˆìŠµë‹ˆë‹¤. ê·¸ë…€ëŠ” ëˆ„êµ¬ì—ê²Œë„ êµ¬ì†ë°›ì§€ ì•Šê³  ë‹˜í”„ë“¤ê³¼ í•¨ê»˜ ìˆ²ì„ ëˆ„ë¹„ë©°, ìì‹ ì˜ ì˜ì—­ì„ ì¹¨ë²”í•˜ëŠ” ìì—ê²ŒëŠ” ê°€ì°¨ ì—†ëŠ” í™”ì‚´ì„ ë‚ ë¦¬ëŠ” ë…ë¦½ì ì¸ ì‹ ì…ë‹ˆë‹¤."
        },
        "ESTP": {
            name: "ì•„ë ˆìŠ¤ (Ares)",
            desc: "ë³¸ëŠ¥ì— ì¶©ì‹¤í•œ íŒŒê´´ì™€ ì „ìŸì˜ ì‹ ",
            story: "ì•„ë ˆìŠ¤ëŠ” ì „ëµë³´ë‹¤ëŠ” ë¬´ë ¥ê³¼ íŒŒê´´ë¥¼ ì¦ê¸°ëŠ” ì „ìŸì˜ ì‹ ì…ë‹ˆë‹¤. ê·¸ëŠ” ì „ìŸí„°ì˜ êµ‰ìŒê³¼ ê³µí¬ë¥¼ ì‚¬ë‘í•˜ë©°, ì•ë’¤ ì¬ì§€ ì•Šê³  ì „ì¥ì— ë›°ì–´ë“­ë‹ˆë‹¤. ë¹„ë¡ ë‹¤ë¥¸ ì‹ ë“¤ì—ê²ŒëŠ” ë‚œí­í•˜ë‹¤ê³  ë¯¸ì›€ì„ ë°›ê¸°ë„ í–ˆì§€ë§Œ, ì‚¬ë‘ì˜ ì—¬ì‹  ì•„í”„ë¡œë””í…Œì˜ ë§ˆìŒì„ í›”ì¹œ ì—´ì •ì ì¸ ë‚¨ì„±ì´ê¸°ë„ í–ˆìŠµë‹ˆë‹¤."
        },
        "ESFP": {
            name: "ë””ì˜¤ë‹ˆì†ŒìŠ¤ (Dionysus)",
            desc: "ê´‘ê¸°ì™€ ì¶•ì œë¥¼ ì¦ê¸°ëŠ” í¬ë„ì£¼ì˜ ì‹ ",
            story: "ë””ì˜¤ë‹ˆì†ŒìŠ¤ëŠ” ì¸ê°„ ì„¸ìƒ ê³³ê³³ì„ ë– ëŒë©° ì‚¬ëŒë“¤ì—ê²Œ í¬ë„ì£¼ ë§Œë“œëŠ” ë²•ê³¼ ì¶•ì œë¥¼ ì¦ê¸°ëŠ” ë²•ì„ ê°€ë¥´ì³¤ìŠµë‹ˆë‹¤. ê·¸ëŠ” ìì‹ ì„ ë”°ë¥´ëŠ” ì´ë“¤ì—ê²ŒëŠ” í™˜í¬ì™€ ì¦ê±°ì›€ì„ ì£¼ì—ˆì§€ë§Œ, ìì‹ ì„ ë¬´ì‹œí•˜ëŠ” ìë“¤ì€ ê´‘ê¸°ì— ë¹ ì§€ê²Œ í•˜ì—¬ ì¶¤ì¶”ë‹¤ ì£½ê²Œ ë§Œë“¤ê¸°ë„ í–ˆìŠµë‹ˆë‹¤."
        },
        "INTJ": {
            name: "ì•„í…Œë‚˜ (Athena)",
            desc: "ëƒ‰ì² í•œ ì „ëµìœ¼ë¡œ ìŠ¹ë¦¬í•˜ëŠ” ì§€í˜œì˜ ì—¬ì‹ ",
            story: "ì•„í…Œë‚˜ëŠ” ì œìš°ìŠ¤ì˜ ë¨¸ë¦¬ì—ì„œ ì™„ì „ë¬´ì¥í•œ ìƒíƒœë¡œ íƒœì–´ë‚¬ìŠµë‹ˆë‹¤. ê·¸ë…€ëŠ” ì „ìŸì˜ ì‹ ì´ì§€ë§Œ ë¬´ì‘ì • ì‹¸ìš°ëŠ” ì•„ë ˆìŠ¤ì™€ ë‹¬ë¦¬, ì§€ëµê³¼ ì „ìˆ ë¡œ ìŠ¹ë¦¬í•©ë‹ˆë‹¤. íŠ¸ë¡œì´ ì „ìŸì—ì„œ ì˜¤ë””ì„¸ìš°ìŠ¤ì—ê²Œ ëª©ë§ˆ ì‘ì „ì„ ì œì•ˆí•˜ì—¬ ê·¸ë¦¬ìŠ¤ êµ°ì„ ìŠ¹ë¦¬ë¡œ ì´ëˆ ê²ƒë„ ë°”ë¡œ ê·¸ë…€ì…ë‹ˆë‹¤."
        },
        "INTP": {
            name: "í•˜ë°ìŠ¤ (Hades)",
            desc: "ê¹Šì€ ì–´ë‘  ì†ì—ì„œ ê³ ë…ì„ ì¦ê¸°ëŠ” ì €ìŠ¹ì˜ ì™•",
            story: "í•˜ë°ìŠ¤ëŠ” ì œë¹„ë½‘ê¸°ì—ì„œ ì§€í•˜ ì„¸ê³„ë¥¼ ë§¡ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŠ” ì˜¬ë¦¼í¬ìŠ¤ì˜ í™”ë ¤í•œ ì—°íšŒì— ê±°ì˜ ì°¸ì„í•˜ì§€ ì•Šê³ , ì–´ë‘ìš´ ì§€í•˜ ê¶ì „ì—ì„œ ë¬µë¬µíˆ ì£½ì€ ìë“¤ì„ ê´€ë¦¬í–ˆìŠµë‹ˆë‹¤. ëƒ‰ì •í•´ ë³´ì´ì§€ë§Œ ì•„ë‚´ í˜ë¥´ì„¸í¬ë„¤ë¥¼ ìœ„í•´ ì§€í•˜ ì„¸ê³„ì— ì„ë¥˜ë‚˜ë¬´ë¥¼ ì‹¬ì–´ì¤„ ë§Œí¼ ë¡œë§¨í‹±í•œ ë©´ë„ ìˆìŠµë‹ˆë‹¤."
        },
        "ENTP": {
            name: "í—¤ë¥´ë©”ìŠ¤ (Hermes)",
            desc: "ì‹ ì¶œê·€ëª°í•œ ì¥ë‚œê¾¸ëŸ¬ê¸° ì „ë ¹ì˜ ì‹ ",
            story: "í—¤ë¥´ë©”ìŠ¤ëŠ” íƒœì–´ë‚œ ì§€ í•˜ë£¨ ë§Œì— ìš”ëŒì—ì„œ ë¹ ì ¸ë‚˜ì™€ ì•„í´ë¡ ì˜ ì†Œ ë–¼ë¥¼ í›”ì³¤ì„ ë§Œí¼ ì˜ë¦¬í•˜ê³  ì¥ë‚œê¸°ê°€ ë„˜ì¹©ë‹ˆë‹¤. ê·¸ëŠ” ì‹ ë“¤ì˜ ì‹¬ë¶€ë¦„ê¾¼ì´ì ì£½ì€ ìë¥¼ ì €ìŠ¹ìœ¼ë¡œ ì¸ë„í•˜ëŠ” ì•ˆë‚´ìì´ë©°, íŠ¹ìœ ì˜ ë§ì†œì”¨ì™€ ê¸°ì§€ë¡œ ìˆ˜ë§ì€ ìœ„ê¸° ìƒí™©ì„ ëª¨ë©´í•˜ê³¤ í–ˆìŠµë‹ˆë‹¤."
        },
        "ENTJ": {
            name: "ì œìš°ìŠ¤ (Zeus)",
            desc: "ì„¸ìƒì„ í˜¸ë ¹í•˜ëŠ” ì¹´ë¦¬ìŠ¤ë§ˆ, ì‹ ë“¤ì˜ ì™•",
            story: "ì œìš°ìŠ¤ëŠ” í˜•ì œë“¤ì„ ê·œí•©í•˜ì—¬ ì•„ë²„ì§€ í¬ë¡œë…¸ìŠ¤ì™€ì˜ ì „ìŸ(í‹°íƒ€ë…¸ë§ˆí‚¤ì•„)ì„ ìŠ¹ë¦¬ë¡œ ì´ëŒê³  ì‹ ë“¤ì˜ ì™•ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŠ” ë²ˆê°œë¥¼ ë¬´ê¸°ë¡œ ì‚¬ìš©í•˜ì—¬ ì§ˆì„œë¥¼ ìœ ì§€í•˜ë©°, ë•Œë¡œëŠ” ë¬´ìë¹„í•˜ê²Œ, ë•Œë¡œëŠ” ê´€ëŒ€í•˜ê²Œ ì„¸ìƒì„ í†µì¹˜í•˜ëŠ” ì ˆëŒ€ì ì¸ ê¶Œë ¥ìì…ë‹ˆë‹¤."
        },
        "INFP": {
            name: "í˜ë¥´ì„¸í¬ë„¤ (Persephone)",
            desc: "ì–´ë‘ ê³¼ ë¹›ì„ ì˜¤ê°€ëŠ” ì‹ ë¹„ë¡œìš´ ë´„ì˜ ì—¬ì‹ ",
            story: "ìˆœìˆ˜í–ˆë˜ ì†Œë…€ í˜ë¥´ì„¸í¬ë„¤ëŠ” í•˜ë°ìŠ¤ì—ê²Œ ë‚©ì¹˜ë˜ì–´ ì§€í•˜ ì„¸ê³„ì˜ ì—¬ì™•ì´ ë˜ì—ˆìŠµë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ìŠ¬í¼í–ˆìœ¼ë‚˜ ì ì°¨ ìì‹ ì˜ ìš´ëª…ì„ ë°›ì•„ë“¤ì—¬, ì£½ì€ ìë“¤ì„ ìœ„ë¡œí•˜ëŠ” ìë¹„ë¡œìš´ ì—¬ì™•ì´ì ìƒëª…ì„ ì‹¹í‹”ìš°ëŠ” ë´„ì˜ ì—¬ì‹ ì´ë¼ëŠ” ì´ì¤‘ì ì¸ ì •ì²´ì„±ì„ ê°€ì§€ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤."
        },
        "INFJ": {
            name: "ì…€ë ˆë„¤ (Selene)",
            desc: "ê³ ìš”í•œ ë°¤í•˜ëŠ˜ì„ ë¹„ì¶”ëŠ” ë‹¬ì˜ ì—¬ì‹ ",
            story: "ì…€ë ˆë„¤ëŠ” ë§¤ì¼ ë°¤ ë‹¬ ë§ˆì°¨ë¥¼ íƒ€ê³  í•˜ëŠ˜ì„ ê°€ë¡œì§€ë¦…ë‹ˆë‹¤. ê·¸ë…€ëŠ” ì¸ê°„ ëª©ë™ ì—”ë””ë¯¸ì˜¨ì„ ê¹Šì´ ì‚¬ë‘í•˜ì—¬, ì œìš°ìŠ¤ì—ê²Œ ê·¸ê°€ ì˜ì›íˆ ëŠ™ì§€ ì•Šê³  ì ë“¤ê²Œ í•´ë‹¬ë¼ê³  ë¶€íƒí–ˆìŠµë‹ˆë‹¤. ê·¸ë…€ëŠ” ë§¤ì¼ ë°¤ ì ë“  ì—°ì¸ì„ ì°¾ì•„ê°€ ì¡°ìš©íˆ ì§€ì¼œë³´ëŠ” ì‹ ë¹„ë¡­ê³  í—Œì‹ ì ì¸ ì‚¬ë‘ì„ í–ˆìŠµë‹ˆë‹¤."
        },
        "ENFJ": {
            name: "ì•„í´ë¡œ (Apollo)",
            desc: "ì˜ˆìˆ ê³¼ ì˜ˆì–¸ìœ¼ë¡œ ì‚¬ëŒì„ ì´ë„ëŠ” íƒœì–‘ì‹ ",
            story: "ì•„í´ë¡œëŠ” íƒœì–‘, ìŒì•…, ì˜ìˆ , ì˜ˆì–¸ ë“± ë‹¤ì¬ë‹¤ëŠ¥í•œ ì‹ ì…ë‹ˆë‹¤. ê·¸ëŠ” ë¸í¬ì´ ì‹ íƒì„ í†µí•´ ì¸ê°„ë“¤ì—ê²Œ ë¯¸ë˜ì˜ ê¸¸ì„ ì•Œë ¤ì£¼ì—ˆê³ , ë¦¬ë¼ ì—°ì£¼ë¡œ ì‹ ë“¤ì˜ ë§ˆìŒì„ ë‹¬ë˜ì£¼ì—ˆìŠµë‹ˆë‹¤. ì–¸ì œë‚˜ ì¤‘ì‹¬ì—ì„œ ë¹›ë‚˜ëŠ” íƒœì–‘ì²˜ëŸ¼ ì‚¬ëŒë“¤ì—ê²Œ ì˜ê°ì„ ì£¼ëŠ” ì¡´ì¬ì…ë‹ˆë‹¤."
        },
        "ENFP": {
            name: "ì•„í”„ë¡œë””í…Œ (Aphrodite)",
            desc: "ì‚¬ë‘ê³¼ ì•„ë¦„ë‹¤ì›€ì„ ì „íŒŒí•˜ëŠ” ë¯¸ì˜ ì—¬ì‹ ",
            story: "ë°”ë‹¤ì˜ ê±°í’ˆì—ì„œ íƒœì–´ë‚œ ì•„í”„ë¡œë””í…ŒëŠ” ê·¸ ì•„ë¦„ë‹¤ì›€ìœ¼ë¡œ ëª¨ë“  ì‹ ë“¤ì˜ ë§ˆìŒì„ ì‚¬ë¡œì¡ì•˜ìŠµë‹ˆë‹¤. ê·¸ë…€ê°€ ê°€ëŠ” ê³³ë§ˆë‹¤ ê½ƒì´ í”¼ì–´ë‚˜ê³  ì‚¬ë‘ì´ ìƒ˜ì†ŸìŠµë‹ˆë‹¤. ê·¸ë…€ëŠ” ì‚¬ë‘ì„ ìœ„í•´ì„œë¼ë©´ ê·œì¹™ì´ë‚˜ ë„ë•ë„ ë¬´ì‹œí•  ë§Œí¼ ììœ ë¡­ê³  ì—´ì •ì ì¸ ì˜í˜¼ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤."
        },
    };

    // ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’
    const result = resultData[myType] || { name: "ì‹ í™” ì† ì£¼ì¸ê³µ", desc: "ë‹¹ì‹ ì€ íŠ¹ë³„í•œ ì‹ ì…ë‹ˆë‹¤." };

    // 1. ì¹´ì¹´ì˜¤í†¡ ê³µìœ í•˜ê¸°
    const shareKakao = () => {
        if (!window.Kakao || !window.Kakao.isInitialized()) {
            alert("ì¹´ì¹´ì˜¤ í‚¤ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”!");
            return;
        }

        window.Kakao.Share.sendDefault({
            objectType: 'feed',
            content: {
                title: `ë‚˜ì˜ ì‹ í™” ì† ìì•„ëŠ”? ${result.name}`,
                description: result.desc,
                imageUrl: 'https://via.placeholder.com/300', // ë‚˜ì¤‘ì— ì¸ë„¤ì¼ ì´ë¯¸ì§€ ì£¼ì†Œë¥¼ ë„£ìœ¼ì„¸ìš”
                link: {
                    mobileWebUrl: window.location.href,
                    webUrl: window.location.href,
                },
            },
            buttons: [
                {
                    title: 'í…ŒìŠ¤íŠ¸ í•˜ëŸ¬ ê°€ê¸°',
                    link: {
                        mobileWebUrl: window.location.href,
                        webUrl: window.location.href,
                    },
                },
            ],
        });
    };

    // 2. X (íŠ¸ìœ„í„°) ê³µìœ í•˜ê¸°
    const shareTwitter = () => {
        const text = `ì‹ í™” ì„±ê²© í…ŒìŠ¤íŠ¸ ê²°ê³¼! ë‚˜ì˜ ìì•„ëŠ” [${result.name}] ì…ë‹ˆë‹¤. #ì‹ í™”í…ŒìŠ¤íŠ¸ #MBTI`;
        const url = window.location.href;
        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`);
    };

    return (
        <div style={styles.container}>
            <h2 style={styles.subtitle}>ë‹¹ì‹ ì˜ ì‹ í™” ì† ìì•„ëŠ”...</h2>
            <h1 style={styles.title}>{result.name}</h1>
            <h3 style={styles.desc}>{result.desc}</h3>

            <div style={styles.storyBox}>
                <p style={styles.storyText}>{result.story}</p>
            </div>

            <br />

            {/* ë©”ì¸ ê³µìœ  ë²„íŠ¼ */}
            <button style={styles.mainShareButton} onClick={() => setShowShare(!showShare)}>
                ğŸ”— ì¹œêµ¬ì—ê²Œ ê³µìœ í•˜ê¸°
            </button>

            {/* 3ê°€ì§€ ê³µìœ  ì˜µì…˜ (showShareê°€ trueì¼ ë•Œë§Œ ë³´ì„) */}
            {showShare && (
                <div style={styles.shareOptions}>
                    <button style={styles.kakaoButton} onClick={shareKakao}>ğŸ’¬ ì¹´ì¹´ì˜¤í†¡</button>
                    <button style={styles.twitterButton} onClick={shareTwitter}>âŒ íŠ¸ìœ„í„°</button>
                </div>
            )}

            <br />
            <button style={styles.restartButton} onClick={() => navigate('/')}>
                í…ŒìŠ¤íŠ¸ ë‹¤ì‹œ í•˜ê¸°
            </button>
        </div>
    );
};

const styles = {
    container: { textAlign: 'center', marginTop: '50px', padding: '20px', fontFamily: 'sans-serif' },
    subtitle: { fontSize: '1.2rem', color: '#666', marginBottom: '10px' },
    title: { fontSize: '2.5rem', color: '#6200ea', marginBottom: '10px', fontWeight: 'bold' },
    desc: { fontSize: '1.5rem', color: '#333', marginBottom: '20px' },

    storyBox: { backgroundColor: '#f9f9f9', padding: '20px', borderRadius: '10px', border: '1px solid #ddd', maxWidth: '600px', margin: '0 auto 30px auto', textAlign: 'left', lineHeight: '1.6', color: '#444' },
    storyText: { margin: 0 },

    // ê³µìœ  ë²„íŠ¼ ìŠ¤íƒ€ì¼
    mainShareButton: { padding: '15px 30px', fontSize: '1.1rem', cursor: 'pointer', backgroundColor: '#333', color: 'white', border: 'none', borderRadius: '30px', marginBottom: '15px', fontWeight: 'bold' },

    shareOptions: { display: 'flex', justifyContent: 'center', gap: '10px', marginBottom: '30px' },
    kakaoButton: { padding: '10px 20px', cursor: 'pointer', backgroundColor: '#FEE500', color: '#3c1e1e', border: 'none', borderRadius: '8px', fontWeight: 'bold' },
    twitterButton: { padding: '10px 20px', cursor: 'pointer', backgroundColor: '#000', color: '#fff', border: 'none', borderRadius: '8px', fontWeight: 'bold' },

    restartButton: { padding: '15px 30px', fontSize: '1.2rem', cursor: 'pointer', backgroundColor: '#6200ea', color: 'white', border: 'none', borderRadius: '8px' }
};

export default ResultPage;